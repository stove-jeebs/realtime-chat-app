# **Real-Time Chat Application**

A real-time chat application built with React, TypeScript, Vite, Node.js, Express, Socket.IO, and Supabase. This application allows users to join chat rooms, send messages, and view chat history, all in real-time.

---

## **Table of Contents**

- [Features](#features)
- [Technologies Used](#technologies-used)
- [Project Structure](#project-structure)
- [Getting Started](#getting-started)
  - [Prerequisites](#prerequisites)
  - [Installation](#installation)
  - [Environment Variables](#environment-variables)
- [Running the Application](#running-the-application)
  - [Running the Frontend](#running-the-frontend)
  - [Running the Backend](#running-the-backend)
- [Usage](#usage)
- [Database Setup (Supabase)](#database-setup-supabase)
- [Project Scripts](#project-scripts)
- [Contributing](#contributing)
- [License](#license)

---

## **Features**

- Real-time messaging with Socket.IO
- Join and create chat rooms
- View chat history upon joining a room
- Timestamps for messages
- Responsive UI built with React and TypeScript
- Backend API with Express and TypeScript
- Data persistence with Supabase (PostgreSQL)

---

## **Technologies Used**

- **Frontend:**
  - React
  - TypeScript
  - Vite
  - Socket.IO Client
- **Backend:**
  - Node.js
  - Express
  - TypeScript
  - Socket.IO
- **Database:**
  - Supabase (PostgreSQL)
- **Others:**
  - dotenv for environment variable management
  - cors for Cross-Origin Resource Sharing
  - nodemon for automatic server restarts during development

---

## **Project Structure**

```
realtime-chat-app/
├── frontend/
│   ├── eslint.config.js
│   ├── index.html
│   ├── package.json
│   ├── package-lock.json
│   ├── src/
│   │   ├── App.css
│   │   ├── App.tsx
│   │   ├── components/
│   │   │   ├── Chat/
│   │   │   │   ├── Chat.module.css
│   │   │   │   └── Chat.tsx
│   │   │   ├── Home/
│   │   │   │   ├── Home.module.css
│   │   │   │   └── Home.tsx
│   │   │   └── Room/
│   │   │       ├── Room.module.css
│   │   │       └── Room.tsx
│   │   ├── index.css
│   │   ├── main.tsx
│   │   └── vite-env.d.ts
│   ├── tsconfig.app.json
│   ├── tsconfig.app.tsbuildinfo
│   ├── tsconfig.json
│   ├── tsconfig.node.json
│   ├── tsconfig.node.tsbuildinfo
│   └── vite.config.ts
├── package-lock.json
├── README.md
└── server/
    ├── database.types.js
    ├── database.types.ts
    ├── dist/
    │   └── index.js
    ├── eslint.config.mjs
    ├── index.js
    ├── index.ts
    ├── package.json
    ├── package-lock.json
    ├── services/
    │   ├── supabase.js
    │   ├── supabase.ts
    │   ├── supabaseUtils.js
    │   └── supabaseUtils.ts
    └── tsconfig.json
```

---

## **Getting Started**

### **Prerequisites**

- **Node.js** (v14.x or higher)
- **npm** (v6.x or higher) or **Yarn**
- **Supabase Account**: [Sign up for free](https://supabase.com/)

### **Installation**

1. **Clone the Repository**

   ```bash
   git clone https://github.com/stove-jeebs/realtime-chat-app.git
   ```

2. **Navigate to the Project Directory**

   ```bash
   cd realtime-chat-app
   ```

3. **Install Dependencies for Frontend**

   ```bash
   cd frontend
   npm install
   ```

4. **Install Dependencies for Backend**

   ```bash
   cd ../server
   npm install
   ```

---

## **Running the Application**

### **Running the Frontend**

1. **Navigate to the Frontend Directory**

   ```bash
   cd frontend
   ```

2. **Start the Development Server**

   ```bash
   npm run dev
   ```

3. **Access the Frontend**

   Open your browser and navigate to [http://localhost:3000](http://localhost:3000).

### **Running the Backend**

1. **Navigate to the Backend Directory**

   ```bash
   cd ../server
   ```

2. **Start the Development Server**

   ```bash
   npm run dev
   ```

   This will start the backend server on the port specified in your `.env` file (default is 4000).

---

## **Usage**

1. **Open the Frontend Application**

   Navigate to [http://localhost:3000](http://localhost:3000) in your browser.

2. **Join a Chat Room**

   - Enter a username.
   - Select a room name.
   - Click "Join Room."

3. **Send Messages**

   - Type a message in the input field.
   - Press "Send Message" to send it.

4. **View Chat History**

   - Upon joining a room, the chat history will be loaded and displayed.

---

## **Database Setup (Supabase)**

1. **Create a Supabase Project**

   - Sign up or log in to [Supabase](https://supabase.com/).
   - Create a new project.

2. **Create the `chat_messages` Table**

   In the Supabase SQL editor, run the following SQL script:

   ```sql
   CREATE TABLE IF NOT EXISTS public.chat_messages (
     id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
     username TEXT NOT NULL,
     message TEXT NOT NULL,
     room TEXT NOT NULL,
     timestamp TIMESTAMP WITH TIME ZONE NOT NULL
   );
   ```

3. **Obtain Supabase Credentials**

   - Go to your Supabase project settings.
   - Copy the `API URL` and the `anon Key` under `API`.

4. **Set Environment Variables**

   Update your `.env` file in the `server` directory with the Supabase credentials:

   ```bash
   SUPABASE_URL=your-supabase-url
   SUPABASE_ANON_KEY=your-supabase-service-key
   ```

---

## **Project Scripts**

### **Frontend Scripts (`frontend/package.json`)**

- **`npm run dev`**: Start the frontend development server.
- **`npm run build`**: Build the frontend for production.
- **`npm run preview`**: Preview the production build locally.

### **Backend Scripts (`server/package.json`)**

- **`npm run dev`**: Start the backend development server with Nodemon.
- **`npm run build`**: Build the backend TypeScript code.
- **`npm start`**: Start the backend server from the built JavaScript code.

## **Acknowledgments**

- [Supabase](https://supabase.com/) for providing an open-source Firebase alternative.
- [Socket.IO](https://socket.io/) for enabling real-time bidirectional event-based communication.
- [Vite](https://vitejs.dev/) for fast and modern frontend tooling.
- Special thanks to [freeCodeCamp's](https://www.freecodecamp.org/news/build-a-realtime-chat-app-with-react-express-socketio-and-harperdb/) tutorial for being a foundational guide in building this application.
